/*
Theme Name: Erik
Theme URI: https://github.com/erikjoling/erik/
Author: Erik Joling
Author URI: https://erik.joling.me/
Description:  A WordPress Block Theme made for erik.joling.me. Kept simple, because I get lost easily
Requires at least: 6.0
Tested up to: 6.0
Requires PHP: 7.4
Version: 0.1
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: erik
*/

/* -------------------------------- GENERAL -------------------------------- */

/*
 * Font smoothing.
 * This is a niche setting that will not be available via Global Styles.
 * https://github.com/WordPress/gutenberg/issues/35934
 */

body {
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
}

/*
 * Figure browser reset
 */
figure {
    margin: 0;
}

/*
 * Button hover styles.
 * Necessary until the following issue is resolved in Gutenberg:
 * https://github.com/WordPress/gutenberg/issues/27075
 */

.wp-block-search__button:hover,
.wp-block-file .wp-block-file__button:hover,
.wp-block-button__link:hover {
    opacity: 0.8;
    box-shadow: 0 3px 5px -1px var(--wp--preset--color--secondary),0 1px 3px -1px var(--wp--preset--color--secondary);
}

/*
 * Alignment styles.
 * These rules are temporary, and should not be relied on or
 * modified too heavily by themes or plugins that build on
 * Twenty Twenty-Two. These are meant to be a precursor to
 * a global solution provided by the Block Editor.
 *
 * Relevant issues:
 * https://github.com/WordPress/gutenberg/issues/35607
 * https://github.com/WordPress/gutenberg/issues/35884
 */

.wp-site-blocks,
.wp-site-blocks > .wp-block-cover,
.wp-site-blocks > .wp-block-template-part,
.wp-site-blocks > .wp-block-template-part > .wp-block-group,
.wp-site-blocks > .wp-block-template-part > .wp-block-cover,
.wp-site-blocks > main,
.wp-site-blocks > main > .wp-block-group,
.wp-site-blocks > main > .wp-block-cover,
.wp-site-blocks > main > .wp-block-post-content,
/* When everything is wrapped in a cover block */
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part > .wp-block-group,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part > .wp-block-cover,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-group,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-cover,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-post-content,
/* For the editor */
body > .is-root-container,
.edit-post-visual-editor__post-title-wrapper {
    padding-left: var(--wp--custom--spacing--outer-site-horizontal);
    padding-right: var(--wp--custom--spacing--outer-site-horizontal);
}

/* Modify all relevant container blocks in the root */ 
.wp-site-blocks > .wp-block-cover,
.wp-site-blocks > .wp-block-template-part,
.wp-site-blocks > .wp-block-template-part > .wp-block-group,
.wp-site-blocks > .wp-block-template-part > .wp-block-cover,
.wp-site-blocks > main,
.wp-site-blocks > main > .wp-block-group,
.wp-site-blocks > main > .wp-block-cover,
.wp-site-blocks > main > .wp-block-post-content,
/* Modify all relevant container blocks in a root cover block */
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part > .wp-block-group,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > .wp-block-template-part > .wp-block-cover,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-group,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-cover,
.wp-site-blocks > .wp-block-cover > .wp-block-cover__inner-container > main > .wp-block-post-content,
/* For the editor */
body > .is-root-container > .wp-block-template-part {
    margin-left: calc(-1 * var(--wp--custom--spacing--outer-site-horizontal)) !important;
    margin-right: calc(-1 * var(--wp--custom--spacing--outer-site-horizontal)) !important;
    width: unset;
}

/*
 * Remove the margin-top between site-blocks
 */
.wp-site-blocks > * + * {
    margin-block-start: 0;
}

/*
 * Improve inner spacing of certain container blocks (like cover, group, columns)
 */
.wp-block-cover,
.wp-block-group.has-background,
.wp-block-columns.has-background,
.wp-block-column.has-background {
    padding: var(--wp--custom--spacing--block-gap);
}

/*
 * Improve vertical spacing of large blocks with media or background
 */
.wp-block-group.has-background.alignwide:not(:first-child),
.wp-block-group.has-background.alignfull:not(:first-child),
.wp-block-columns.has-background.alignwide:not(:first-child),
.wp-block-columns.has-background.alignfull:not(:first-child),
.wp-block-cover.alignwide:not(:first-child),
.wp-block-cover.alignfull:not(:first-child),
.wp-block-image.alignwide:not(:first-child),
.wp-block-image.alignfull:not(:first-child) {
    margin-block-start: var(--wp--custom--spacing--block-gap-large);
}

.wp-block-group.has-background.alignwide + *,
.wp-block-group.has-background.alignfull + *,
.wp-block-columns.has-background.alignwide + *,
.wp-block-columns.has-background.alignfull + *,
.wp-block-cover.alignwide + *,
.wp-block-cover.alignfull + *,
.wp-block-image.alignwide + *,
.wp-block-image.alignfull + * {
    margin-block-start: var(--wp--custom--spacing--block-gap-large);
}

/*
 * Remove and improve some link styles
 */
.wp-block-post-terms a,
.wp-block-post-title a,
/* .wp-block-post-excerpt__more-text a, */
.wp-block-site-title a {
    text-decoration: none;
    color: inherit;
}

.wp-block-navigation a:hover,
.wp-block-post-terms a:hover,
/* .wp-block-post-excerpt__more-text a, */
.wp-block-post-title a:hover,
.wp-block-site-title a:hover {
    text-decoration: underline;
}

/* Improve title spacing */
h1.wp-block-query-title,
h1.wp-block-post-title {
    margin-block-end: var(--wp--custom--spacing--block-gap-large) !important;
}

/* ------------------------------ COVER BLOCK IN ROOT ------------------------------ */

.wp-site-blocks > .wp-block-cover {
    padding-top: 0;
    padding-bottom: 0;
}

/*
 * Fix rooted cover block custom position issue
 */
.wp-site-blocks > .wp-block-cover.has-custom-content-position .wp-block-cover__inner-container {
    width: 100%;
}


/* ------------------------------ HEADER & NAVIGATION ------------------------------ */


header.wp-block-template-part > .wp-block-cover,
header.wp-block-template-part > .wp-block-group {
    padding-top: var(--wp--custom--spacing--header-vertical);
    padding-bottom: var(--wp--custom--spacing--header-vertical);
}

/*
 * Correct the spacing of the (Responsive) Navigation Block
 * We also use some javascript (see theme.js)
 */

header.wp-block-template-part .wp-block-navigation__responsive-container.is-menu-open {
    padding-left: var(--wp--custom--spacing--outer-site-horizontal);
    padding-right: var(--wp--custom--spacing--outer-site-horizontal);
    padding-top: var(--wp--custom--spacing--header-vertical);
    padding-bottom: var(--wp--custom--spacing--header-vertical);
    text-align: right;
}

header.wp-block-template-part .wp-block-navigation__responsive-container-close {
    position: relative;
}

header.wp-block-template-part .wp-block-navigation__responsive-container.is-menu-open .wp-block-navigation__responsive-container-content {
    padding-top: var(--wp--custom--spacing--header-vertical);
}

/* Mobile version without outer borders */
/* @media (max-width: 480px) {} */


/* ----------------------------------- MAIN ----------------------------------- */

main.wp-block-group {
    padding-top: var(--wp--custom--spacing--main-vertical);
    padding-bottom: var(--wp--custom--spacing--main-vertical);
}


/* ---------------------------------- FOOTER ---------------------------------- */

footer.wp-block-template-part > .wp-block-group {
    padding-top: var(--wp--custom--spacing--footer-vertical);
    padding-bottom: var(--wp--custom--spacing--footer-vertical);
}


/* ---------------------------------- BLOCKS ---------------------------------- */


.wp-block-navigation .current-menu-item > a {
    font-weight: bold;
}


/* --------------------------------- SPECIALS --------------------------------- */

/* On blank canvas template the post-content is directly inside wp-site-blocks */
.wp-site-blocks > .wp-block-post-content {
    padding-top: var(--wp--custom--spacing--main-vertical);
    padding-bottom: var(--wp--custom--spacing--main-vertical);
}

.wp-block-group.profile {
    /* border-radius: 6px; */
    overflow: hidden;
    /* border: none !important; */
}

.wp-block-group.profile .wp-block-cover__background,
.wp-block-group.profile .wp-block-cover__image-background,
.wp-block-group.profile .wp-block-cover__video-background,
.wp-block-group.profile .wp-block-cover__gradient-background {
    /* border-radius: 6px 6px 0 0; */
}

.wp-block-group.profile .wp-block-cover__inner-container > .wp-block-image,
.wp-block-group.profile .wp-block-cover__inner-container > .wp-block-group {
    margin-bottom: -50%;
}

.wp-block-group.profile .wp-block-cover__inner-container .wp-block-image img {
    border: 5px solid white;
}